<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Trader Manager</title>
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="css/customPageStyles.css">
    <link type="text/css" rel="stylesheet" href="css/CrudPage.css">
    <link type="text/css" rel="stylesheet" href="css/hover-min.css">
    <link type="text/css" rel="stylesheet" href="css/jquery.rateyo.min.css">
    <style>
        .autocomplete {
            display: -ms-flexbox;
            display: flex;
        }
        .autocomplete .ac-users {
            padding-top: 10px;
        }
        .autocomplete .ac-users .chip {
            -ms-flex: auto;
            flex: auto;
            margin-bottom: 10px;
            margin-right: 10px;
        }
        .autocomplete .ac-users .chip:last-child {
            margin-right: 5px;
        }
        .autocomplete .ac-dropdown .ac-hover {
            background: #eee;
        }
        .autocomplete .ac-input {
            -ms-flex: 1;
            flex: 1;
            min-width: 150px;
            padding-top: 0.6rem;
        }
        .autocomplete .ac-input input {
            height: 2.4rem;
        }
    </style>
  </head>
  <body>
  <div class="container">
    <div class="col s12" id="color_1">
      <p class="flow-text">Loaded</p>
    </div>
      <div class="row">
         <div class="col s12">
           <div class="row">
             <div class="input-field col s12">
               <i class="material-icons prefix">search</i>
               <input type="text" id="singleInput" data-activates="singleDropdown" data-beloworigin="true" autocomplete="off">
               <label for="singleInput">Search Clients</label>
             </div>
             <ul id="singleDropdown" class="dropdown-content ac-dropdown"></ul>
            </div>
           </div>
          </div>
            <div class="row">
              <div class="col s12 ">
                <div class="input-field inline">
                <a href="#modal1" onclick="modalFunc()">
                <i class="material-icons md-60 ">group_add</i>
                </div>
                <span class="edit_label hvr-pulse-shrink hoverColor">Add New Client</span></a>
              </div>
            </div>
            <div class="row">
              <div class="col s12 ">
                <div class="input-field inline">
                <a href="#modal1" class="" onclick="modalFunc2()">
                <i class="material-icons md-60 ">assignment_ind</i>
                </div>
                <span class="edit_label hvr-pulse-shrink hoverColor">Add New Category</span></a>
              </div>
            </div>
            <div class="row">
              <div class="col s12 ">
                <a class="grey-text text-lighten-4" href="https://github.com/technologeek">Download Text
                <i class="material-icons">content_paste</i></a>
                <a class="grey-text text-lighten-4" href="https://github.com/technologeek">Download Excel
                <i class="material-icons">insert_drive_file</i></a>
              </div>
            </div>
            <div class="row">
               <div class="col s12">
               <div id="modal1" class="modal bottom-sheet">
                   <div class="modal-content first">
                     <h5>Enter Customer Details</h5>
                     <div class="input-field col s6">
                               <input placeholder="Placeholder" id="first_name" required="" aria-required="true" type="text" class="selection">
                               <label for="first_name" id="label_error"><h6><b>Client Name</b></h6></label>
                             </div>
                             <div class="input-field col s6">
                              <select id="category_select" class=" vaselection2">
                                   <option value="" disabled selected>Choose your option</option>
                                   <option>Paypal</option>
                                   <option>Neteller</option>
                                   <option>Skrill</option>
                                   <option>Payza</option>
                                 </select>
                                 <label for="category_select" id="laber_error2"><h6><b>Category</b></h6></label>
                               </div>
                               <div class="input-field col s6 left-align" id="el"></div>
                                 <div class="input-field inline col s6">
                                 Comments:
                                        <input placeholder="Maximum 20 Characters" id="form_comments" type="text" class="" maxlength="40">
                                          </div>                                        
                   </div>
                   <div class="modal-content second">
                    <h5>Add New Category</h5>
                     <div class="input-field col s6">
                                                    <input placeholder="Placeholder" id="category_name" type="text" class="validate">
                                                    <label for="first_name"><h6><b>Category Name</b></h6></label>
                                                  </div>
                   </div>
                   <div class="modal-footer">
                     <a href="#!" id="saveButton" class=" modal-action waves-effect waves-green btn-flat first">Save Client!</a>
                     <a href="#!" id="saveButtonCateory" class=" modal-action modal-close waves-effect waves-green btn-flat second">Save Cateory!</a>
                   </div>
                 </div>                                         
               </div>
              </div>
            <!-- Closing the main container div -->
          </div>
  <!--Import jQuery before materialize.js-->
       <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
       <script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
       <script type="text/javascript" src="js/materialize.min.js"></script>
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize-autocomplete/1.0.7/jquery.materialize-autocomplete.js"></script>
       <script type="text/javascript" src="js/jquery.rateyo.min.js"></script>
       <script type="text/javascript" src="js/programLogic.js"></script>
       <script type="text/javascript" src="js/databaseLogic.js"></script>
       <script type="text/javascript">
          /* Use Jquery to your advantage */
          $(document).ready(function() {
            $('#saveButton').click(function() {
              if($('.selection').val() == "" || $('.selection2').text() == ""){
                console.log("reached");
                $('#label_error,#laber_error2').attr('data-error', 'This field is required');
              } else {
                /// get the values of all the elements then call your db function.
                var name = $('#first_name').val();
                var categorys = $('#category_select').val();
                var comments = $('#form_comments').val();
                var ratings =  $("#el").rateYo("option", "rating");
                console.log(ratings);
                insertClient(name, categorys, comments, ratings);
              }
/*                searchClients(name);
*/            });
            (function () {
                    var single = $('#singleInput').materialize_autocomplete({
                        multiple: {
                            enable: false
                        },
                        dropdown: {
                            el: '#singleDropdown'
                        },
                        getData: function(singleInput,callback){
                          var data = clientsList(singleInput);
                          callback(singleInput, data);
                        }
                        
                    });


                    /*var resultCache = {
                        'A': [
                            {
                                id: 'Abe',
                                text: 'Abe'
                            },
                            {
                                id: 'Ari',
                                text: 'Ari'
                            }
                        ],
                        'B': [
                            {
                                id: 'Baz',
                                text: 'Baz'
                            }
                        ],
                        'BA': [
                            {
                                id: 'Baz',
                                text: 'Baz'
                            }
                        ],
                        'BAZ': [
                            {
                                id: 'Baz',
                                text: 'Baz'
                            }
                        ],
                        'AB': [
                            {
                                id: 'Abe',
                                text: 'Abe'
                            }
                        ],
                        'ABE': [
                            {
                                id: 'Abe',
                                text: 'Abe'
                            }
                        ],
                        'AR': [
                            {
                                id: 'Ari',
                                text: 'Ari'
                            }
                        ],
                        'ARI': [
                            {
                                id: 'Ari',
                                text: 'Ari'
                            }
                        ]
                    };

                    single.resultCache = resultCache;*/
                })();
          }); 
          (function(){
            $('#saveButtonCateory').click(function(){
              var categvar = $('#category_name').val();
              console.log(categvar);
              insertCategory(categvar);
            });
          })(); 
          
  
       </script>
       <script>if (window.module) module = window.module;</script>
  </body>
</html>